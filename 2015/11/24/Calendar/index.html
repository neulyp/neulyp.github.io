<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Calendar," />





  <link rel="alternate" href="/atom.xml" title="lyp's blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.jpg?v=5.0.2" />






<meta name="description" content="java中Calendar的使用方法">
<meta property="og:type" content="article">
<meta property="og:title" content="Calendar">
<meta property="og:url" content="http://yoursite.com/2015/11/24/Calendar/index.html">
<meta property="og:site_name" content="lyp's blog">
<meta property="og:description" content="java中Calendar的使用方法">
<meta property="og:updated_time" content="2016-11-02T18:00:03.347Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Calendar">
<meta name="twitter:description" content="java中Calendar的使用方法">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '3188510942',
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2015/11/24/Calendar/"/>


  <title> Calendar | lyp's blog </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">lyp's blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Calendar
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-11-24T23:13:04+08:00" content="2015-11-24">
              2015-11-24
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>java中Calendar的使用方法<br><a id="more"></a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> cn.outofmemory.codes.Date;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Calendar;</div><div class="line"><span class="keyword">import</span> java.util.Date;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CalendarDemo</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">     Calendar calendar=Calendar.getInstance();</div><div class="line">     calendar.setTime(<span class="keyword">new</span> Date());</div><div class="line">     System.out.println(<span class="string">"现在时间是："</span>+<span class="keyword">new</span> Date());</div><div class="line">     String year=String.valueOf(calendar.get(Calendar.YEAR));</div><div class="line">     String month=String.valueOf(calendar.get(Calendar.MONTH)+<span class="number">1</span>);</div><div class="line">     String day=String.valueOf(calendar.get(Calendar.DAY_OF_MONTH));</div><div class="line">     String week=String.valueOf(calendar.get(Calendar.DAY_OF_WEEK)-<span class="number">1</span>);</div><div class="line">     System.out.println(<span class="string">"现在时间是："</span>+year+<span class="string">"年"</span>+month+<span class="string">"月"</span>+day+<span class="string">"日，星期"</span>+week);</div><div class="line">     <span class="keyword">long</span> year2009=calendar.getTimeInMillis();</div><div class="line">     calendar.set(<span class="number">1989</span>,<span class="number">9</span>,<span class="number">26</span>);<span class="comment">//这里与真实的月份之间相差1</span></div><div class="line">     <span class="keyword">long</span> year1989=calendar.getTimeInMillis();</div><div class="line">     <span class="keyword">long</span> days=(year2009-year1989)/(<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>);</div><div class="line">     System.out.println(<span class="string">"今天和1989年10月26日相隔"</span>+days+<span class="string">"天，"</span>+<span class="string">"也就是说我在这个美丽的星球上已经幸福的生活了"</span>+days+<span class="string">"天。"</span>);</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Calendar类的静态方法getInstance()可以初始化一个日历对象:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Calendar now = Calendar.getInstance();</div></pre></td></tr></table></figure></p>
<p>可以使用下面三个方法把日历定到任何一个时间：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">set(<span class="keyword">int</span> year ,<span class="keyword">int</span> month,<span class="keyword">int</span> date) </div><div class="line">set(<span class="keyword">int</span> year ,<span class="keyword">int</span> month,<span class="keyword">int</span> date,<span class="keyword">int</span> hour,<span class="keyword">int</span> minute) </div><div class="line">set(<span class="keyword">int</span> year ,<span class="keyword">int</span> month,<span class="keyword">int</span> date,<span class="keyword">int</span> hour,<span class="keyword">int</span> minute,<span class="keyword">int</span> second)</div></pre></td></tr></table></figure></p>
<p>如果想获得年份、月份、小时等信息可以使用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Now.get(Calendar.Month) <span class="comment">//这样的方法 0表示一月，1表示二月</span></div><div class="line">get(Calendar.DAY_OF_MONTH)<span class="comment">//获得这个月的第几天</span></div><div class="line">get(Calendar.DAY_OF_WEEK)<span class="comment">//获得这个星期的第几天</span></div><div class="line">get(Calendar.DAY_OF_YEAR)<span class="comment">//获得这个年的第几天</span></div><div class="line">getTimeMillis()<span class="comment">//获得当前时间的毫秒表示</span></div></pre></td></tr></table></figure></p>
<p>如下是Calendar类方法简介</p>
<pre><code> abstract void add(int field, int amount) 根据日历的规则，为给定的日历字段添加或减去指定的时间量。   
 boolean after(Object when) 判断此 Calendar 表示的时间是否在指定 Object表示的时间之后，返回判断结果。 
 boolean before(Object when)  判断此 Calendar 表示的时间是否在指定 Object表示的时间之前，返回判断结果。 
 void clear() 将此 Calendar的所日历字段值和时间值（从历元至现在的毫秒偏移量）设置成未定义。 
 void clear(int field)  将此 Calendar的给定日历字段值和时间值（从历元至现在的毫秒偏移量）设置成未定义。
 Object clone() 创建并返回此对象的一个副本。 
 int compareTo(Calendar anotherCalendar)  比较两个 Calendar对象表示的时间值（从历元至现在的毫秒偏移量）。 
 protected void complete() 填充日历字段中所有未设置的字段。
 protected abstract void computeFields() 将当前毫秒时间值 time 转换为 fields[]中的日历字段值。
 protected abstract void computeTime() 将 fields[] 中的当前日历字段值转换为毫秒时间值    time。 
 boolean equals(Object obj)  将此 Calendar 与指定 Object 比较。 
 int get(int field)返回给定日历字段的值。 
 int getActualMaximum(int field)给定此 Calendar 的时间值，返回指定日历字段可能拥有的最大值。
 int getActualMinimum(int field)给定此 Calendar 的时间值，返回指定日历字段可能拥有的最小值。 
 static Locale[] getAvailableLocales()返回所有语言环境的数组，此类的 getInstance方法可以为其返回本地化的实例。 
 String getDisplayName(int field, int style, Locale locale) 返回给定 style和locale下的日历 field 值的字符串表示形式。 
 Map&lt;String,Integer&gt; getDisplayNames(int field, int style, Locale locale) 返回给定 style 和 locale 下包含日历 field 所有名称的 Map 及其相应字段值。
int getFirstDayOfWeek()获取一星期的第一天；例如，在美国，这一天是 SUNDAY，而在法国，这一天是 MONDAY。
abstract int getGreatestMinimum(int field)返回此 Calendar实例给定日历字段的最高的最小值。 
static Calendar getInstance() 使用默认时区和语言环境获得一个日历。 
static Calendar getInstance(Locale aLocale) 使用默认时区和指定语言环境获得一个日历。 
static Calendar getInstance(TimeZone zone) 使用指定时区和默认语言环境获得一个日历。 
static Calendar getInstance(TimeZone zone, Locale aLocale)    使用指定时区和语言环境获得一个日历。
abstract int getLeastMaximum(int field) 返回此Calendar实例给定日历字段的最低的最大值。
abstract int getMaximum(int field) 返回此 Calendar 实例给定日历字段的最大值。 
int getMinimalDaysInFirstWeek()获取一年中第一个星期所需的最少天数，例如，如果定义第一个星期包含一年第一个月的第一天，则此方法将返回 1。 
 abstract int getMinimum(int field) 返回此 Calendar 实例给定日历字段的最小值。
Date getTime()返回一个表示此 Calendar 时间值（从历元至现在的毫秒偏移量）的 Date 对象。
long getTimeInMillis()返回此 Calendar 的时间值，以毫秒为单位。 
TimeZone getTimeZone()获得时区。 int hashCode()返回该此日历的哈希码。 
protected int internalGet(int field)返回给定日历字段的值。 
boolean isLenient()判断日期/时间的解释是否为宽松的。 
boolean isSet(int field) 确定给定日历字段是否已经设置了一个值，其中包括因为调用 get方法触发内部字段计算而导致已经设置该值的情况。 
abstract void roll(int field, boolean up)    在给定的时间字段上添加或减去（上/下）单个时间单元，不更改更大的字段。 
void roll(int field, int amount) 向指定日历字段添加指定（有符号的）时间量，不更改更大的字段。 
void set(int field, int value) 将给定的日历字段设置为给定值。
void set(int year, int month, int date) 设置日历字段 YEAR、MONTH 和 DAY_OF_MONTH 的值。
void set(int year, int month, int date, int hourOfDay, int minute)设置日历字段 YEAR、MONTH、DAY_OF_MONTH、HOUR_OF_DAY 和 MINUTE 的值。 
void set(int year, int month, int date, int hourOfDay, int minute, int second) 设置字段 YEAR、MONTH、DAY_OF_MONTH、HOUR、MINUTE 和    SECOND 的值。
void setFirstDayOfWeek(int value) 设置一星期的第一天是哪一天；例如，在美国，这一天是SUNDAY，而在法国，这一天是 MONDAY。 
void setLenient(boolean lenient) 指定日期/时间解释是否是宽松的。 
void setMinimalDaysInFirstWeek(int value)设置一年中第一个星期所需的最少天数，例如，如果定义第一个星期包含一年第一个月的第一天，则使用值 1 调用此方法。 
void setTime(Date date) 使用给定的 Date 设置此 Calendar 的时间。 
void setTimeInMillis(long millis) 用给定的 long 值设置此 Calendar 的当前时间值。
void setTimeZone(TimeZone value) 使用给定的时区值来设置时区。 
String toString() 返回此日历的字符串表示形式
</code></pre><h2 id="Calendar的常用方法示例"><a href="#Calendar的常用方法示例" class="headerlink" title="Calendar的常用方法示例"></a>Calendar的常用方法示例</h2><p>1、计算某一月份的最大天数<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Calendar time=Calendar.getInstance(); </div><div class="line">time.clear(); </div><div class="line">time.set(Calendar.YEAR,year); </div><div class="line">time.set(Calendar.MONTH,i-<span class="number">1</span>);<span class="comment">//注意,Calendar对象默认一月为0             </span></div><div class="line"><span class="keyword">int</span> day=time.getActualMaximum(Calendar.DAY_OF_MONTH);<span class="comment">//本月份的天数</span></div></pre></td></tr></table></figure></p>
<p>注：在使用set方法之前，必须先clear一下，否则很多信息会继承自系统当前时间</p>
<p>2、Calendar和Date的转化</p>
<p>(1) Calendar转化为Date<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Calendar cal=Calendar.getInstance();</div><div class="line">Date date=cal.getTime();</div></pre></td></tr></table></figure></p>
<p>(2) Date转化为Calendar<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Date date=<span class="keyword">new</span> Date();</div><div class="line">Calendar cal=Calendar.getInstance();</div><div class="line">cal.setTime(date);</div></pre></td></tr></table></figure></p>
<p>3、格式化输出日期时间<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Date date=<span class="keyword">new</span> Date();</div><div class="line">SimpleDateFormat df=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</div><div class="line">System.out.println(df.format(date));</div></pre></td></tr></table></figure></p>
<p>4、计算一年中的第几星期</p>
<p>(1)计算某一天是一年中的第几星期<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Calendar cal=Calendar.getInstance();</div><div class="line">cal.set(Calendar.YEAR, <span class="number">2006</span>);</div><div class="line">cal.set(Calendar.MONTH, <span class="number">8</span>);</div><div class="line">cal.set(Calendar.DAY_OF_MONTH, <span class="number">3</span>);</div><div class="line"><span class="keyword">int</span> weekno=cal.get(Calendar.WEEK_OF_YEAR);</div></pre></td></tr></table></figure></p>
<p>(2)计算一年中的第几星期是几号<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">SimpleDateFormat df=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</div><div class="line">Calendar cal=Calendar.getInstance();</div><div class="line">cal.set(Calendar.YEAR, <span class="number">2006</span>);</div><div class="line">cal.set(Calendar.WEEK_OF_YEAR, <span class="number">1</span>);</div><div class="line">cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);</div><div class="line">System.out.println(df.format(cal.getTime()));</div></pre></td></tr></table></figure></p>
<p>输出:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">2006</span>-<span class="number">01</span>-<span class="number">02</span></div></pre></td></tr></table></figure></p>
<p>5、add()和roll()的用法</p>
<p>(1) add()方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">SimpleDateFormat df=<span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</div><div class="line">Calendar cal=Calendar.getInstance();</div><div class="line">cal.set(Calendar.YEAR, <span class="number">2006</span>);</div><div class="line">cal.set(Calendar.MONTH, <span class="number">8</span>);</div><div class="line">cal.set(Calendar.DAY_OF_MONTH, <span class="number">3</span>);</div><div class="line">cal.add(Calendar.DATE, -<span class="number">4</span>);</div><div class="line">Date date=cal.getTime();</div><div class="line">System.out.println(df.format(date));</div><div class="line">cal.add(Calendar.DATE, <span class="number">4</span>);</div><div class="line">date=cal.getTime();</div><div class="line">System.out.println(df.format(date));</div></pre></td></tr></table></figure></p>
<p>输出：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">2006</span>-<span class="number">08</span>-<span class="number">30</span></div><div class="line"><span class="number">2006</span>-<span class="number">09</span>-<span class="number">03</span></div></pre></td></tr></table></figure></p>
<p>(2)roll方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">cal.set(Calendar.YEAR, <span class="number">2006</span>);</div><div class="line">cal.set(Calendar.MONTH, <span class="number">8</span>);</div><div class="line">cal.set(Calendar.DAY_OF_MONTH, <span class="number">3</span>);</div><div class="line">cal.roll(Calendar.DATE, -<span class="number">4</span>);</div><div class="line">date=cal.getTime();</div><div class="line">System.out.println(df.format(date));</div><div class="line">cal.roll(Calendar.DATE, <span class="number">4</span>);</div><div class="line">date=cal.getTime();</div><div class="line">System.out.println(df.format(date));</div></pre></td></tr></table></figure></p>
<p>输出：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">2006</span>-<span class="number">09</span>-<span class="number">29</span></div><div class="line"><span class="number">2006</span>-<span class="number">09</span>-<span class="number">03</span></div></pre></td></tr></table></figure></p>
<p>可见，roll()方法在本月内循环，一般使用add()方法；</p>
<p>6、计算两个任意时间中间的间隔天数</p>
<p>(1)传进Calendar对象<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">/</div><div class="line">**计算两个时间之间相隔天数</div><div class="line"> * <span class="meta">@param</span> startday  开始时间</div><div class="line"> * <span class="meta">@param</span> endday 结束时间</div><div class="line"> * <span class="meta">@return</span></div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getIntervalDays</span><span class="params">(Calendar startday,Calendar endday)</span></span>&#123;</div><div class="line">    <span class="comment">//确保startday在endday之前</span></div><div class="line">    <span class="keyword">if</span>(startday.after(endday))&#123;</div><div class="line">        Calendar cal=startday;</div><div class="line">        startday=endday;</div><div class="line">        endday=cal;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//分别得到两个时间的毫秒数</span></div><div class="line">    <span class="keyword">long</span> sl=startday.getTimeInMillis();</div><div class="line">    <span class="keyword">long</span> el=endday.getTimeInMillis();</div><div class="line"></div><div class="line">    <span class="keyword">long</span> ei=el-sl;    </div><div class="line">    <span class="comment">//根据毫秒数计算间隔天数</span></div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)(ei/(<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>(2)传进Date对象<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**计算两个时间之间相隔天数</span></div><div class="line"> * <span class="doctag">@param</span> startday  开始时间</div><div class="line"> * <span class="doctag">@param</span> endday 结束时间</div><div class="line"> * <span class="doctag">@return</span></div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getIntervalDays</span><span class="params">(Date startday,Date endday)</span></span>&#123;</div><div class="line">    <span class="comment">//确保startday在endday之前</span></div><div class="line">    <span class="keyword">if</span>(startday.after(endday))&#123;</div><div class="line">        Date cal=startday;</div><div class="line">        startday=endday;</div><div class="line">        endday=cal;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//分别得到两个时间的毫秒数</span></div><div class="line">    <span class="keyword">long</span> sl=startday.getTime();</div><div class="line">    <span class="keyword">long</span> el=endday.getTime();</div><div class="line"></div><div class="line">    <span class="keyword">long</span> ei=el-sl;    </div><div class="line">    <span class="comment">//根据毫秒数计算间隔天数</span></div><div class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)(ei/(<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>同理，可以用相同的方法计算出任意两个时间相隔的小时数，分钟数，秒钟数等</p>
<p>注：以上方法是完全按时间计算，有时并不能令人满意，如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">startday=<span class="string">"2006-10-11 20:00:00"</span> endday=<span class="string">"2006-10-12 8:00:00"</span></div></pre></td></tr></table></figure></p>
<p>计算结果为0，但是我们也许相让计算结果变为1，此时可以用如下方法实现：</p>
<p>在传参之前，先设定endday的时间，如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">endday.set(Calendar.HOUR_OF_DAY, <span class="number">23</span>);</div><div class="line">endday.set(Calendar.MINUTE, <span class="number">59</span>);</div><div class="line">endday.set(Calendar.SECOND, <span class="number">59</span>);</div><div class="line">endday.set(Calendar.MILLISECOND, <span class="number">59</span>);</div></pre></td></tr></table></figure></p>
<p>这样再传进去startday,endday，则结果就如我们所愿了。不过，如果嫌以上方法麻烦，可以参考以下方法：</p>
<p>(3)改进精确计算相隔天数的方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getDaysBetween</span> <span class="params">(Calendar d1, Calendar d2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (d1.after(d2)) &#123;  <span class="comment">// swap dates so that d1 is start and d2 is end</span></div><div class="line">        java.util.Calendar swap = d1;</div><div class="line">        d1 = d2;</div><div class="line">        d2 = swap;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> days = d2.get(Calendar.DAY_OF_YEAR) - d1.get(Calendar.DAY_OF_YEAR);</div><div class="line">    <span class="keyword">int</span> y2 = d2.get(Calendar.YEAR);</div><div class="line">    <span class="keyword">if</span> (d1.get(Calendar.YEAR) != y2) &#123;</div><div class="line">        d1 = (Calendar) d1.clone();</div><div class="line">        do &#123;</div><div class="line">            days += d1.getActualMaximum(Calendar.DAY_OF_YEAR);<span class="comment">//得到当年的实际天数</span></div><div class="line">            d1.add(Calendar.YEAR, <span class="number">1</span>);</div><div class="line">        &#125; <span class="keyword">while</span> (d1.get(Calendar.YEAR) != y2);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> days;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Calendar/" rel="tag">#Calendar</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/11/23/JSONObject/" rel="next" title="JSONObject">
                <i class="fa fa-chevron-left"></i> JSONObject
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/11/27/web/" rel="prev" title="quartz in web">
                quartz in web <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Loren" />
          <p class="site-author-name" itemprop="name">Loren</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">49</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Calendar的常用方法示例"><span class="nav-number">1.</span> <span class="nav-text">Calendar的常用方法示例</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Loren</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  




  
  

  

  

  

  


</body>
</html>
